<?xml version="1.0" encoding="utf-8"?>
<vxml version="2.1"
      xmlns="http://www.w3.org/2001/vxml"
      xmlns:voxeo="http://community.voxeo.com/xmlns/vxml">

  <nomatch>
    <property name="timeout" value="3s"/>
    Sorry I didn't understand.
    <reprompt/>
  </nomatch>

  <noinput>
    <property name="timeout" value="3s"/>
    You didn't say anything.
    <reprompt/>
  </noinput>
   
  <form id="welcome">
    <block>
      <prompt bargein="false">
	<break time="1000" />
	welcome to the flight booking service. tell me about your journey
      </prompt>
      <goto next="#journey"/>
    </block>
  </form>

  <form id="journey">
    <grammar src="grammars/lab4.xml"/>
    <field name="departure">
      <grammar src="grammars/lab4.xml#origin"/>
      <prompt count="2"> where are you leaving from? </prompt>
      <prompt count="3"> you can say london, paris or new york </prompt>
    </field>
    <field name="destination">
      <grammar src="grammars/lab4.xml#dest"/>
      <prompt> where are you going </prompt>
    </field>
    <field name="date">
      <grammar src="grammars/lab4.xml#leavingDate"/>
      <prompt> what date are you leaving </prompt>
      <prompt count="2"> to choose your leaving date you can say any day of the week </prompt>
    </field>
    <field name="returning">
      <grammar src="grammars/lab4.xml#returnDate"/>
      <prompt> what date are you returning </prompt>
      <prompt count="2"> to choose your return date you can say any day of the week </prompt>
    </field>
    <field name="meal">
      <grammar src="grammars/lab4.xml#foodMenu"/>
      <prompt> what type of meal would you like </prompt>
      <prompt count="2"> to choose your meal you can say chicken, fish or vegetarian </prompt>
    </field>
    <filled>
      you are going from <value expr="departure$.interpretation.departure"/> to <value expr="destination$.interpretation.destination"/>
      leaving on <value expr="date$.interpretation.date"/> to <value expr="returning$.interpretation.returning"/>
      with a <value expr="meal$.interpretation.meal"/> meal
    </filled>
  </form>

</vxml>
